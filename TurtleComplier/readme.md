#COMP3610 Assignment 2: Turtle Compiler

By Yunen He (u5251400) and Geyang Huang (u5421856) , 25 Oct 2015

## Overview

### Scripts

* buildOnLinux.sh : compiling files on Linux
* buildOnMac.sh : compiling files on Mac 
* clean.sh : clean files generated by Flex and Bison

### Repositores
* doc : includes assignment specifications 
* examples : includes examples used to demonstrate that compiler can handle a variety of syntactic erros and static semantic erros
* tests : includes default tetst
* tools : includes tools used for plotting and dissembling code

### Files
### Code Generation
* codegen.c
* codegen.h

### Symbol Table
* symtab.c
* symtab.h

### Flex and Bison files
* turtle.l
* turtle.y

### Turtle Compiler
turtle.c


## Environment
* gcc version 4.9.3
* bison version 3.0.2
* flex version 2.5

## Building
### Mac Users

```
./buildOnMac.sh
```

### Linux Users

```
./buildOnLinux.sh
```

## Running
```
./turtle input.t out.p
```

## Plotting 
install libgd on Mac

```
brew install gd

```

complie tools\PDPlot-C\pdplot.c

```
gcc pdplot.c -lgd

```

plot

```
./a.out out.p out.png  

```

## Debugging

compile tools\DisASM\DisASM.hs

```
ghci -o DisASM DisASM.hs
```

convert .p object code into .asm assembly code

```
./DisASM out.p out.asm
```

### Examples

* var_func.t : test var declarations in function declarations

* local_global_var.t : test the scope of variables

* rect.t : draw a rectangle to the screen

* resolved_fn.t : call a function defined later

* undeclared_var.t : test undefined variables

* unresolved_fn.t : call a undefined function

* identifiers.t : test parsing identifiers

* ifelse : test backpatching jump address in the conditional statements

* while.t : test a while loop

* badreturn : a retrun statement in the main statement

* duplicated_var.t : a variable declared twice in the same scope

* duplicated_fn.t :  a function declared twice in the same scope

* identifiers.t : test identifiers

* bad_fn.t : mismatch between the number of parameters in the definition of a function and the number of arguments in a call